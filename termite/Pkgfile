# Description: A keyboard-centric VTE-based terminal
# URL:         https://github.com/thestinger/termite
# Packager:    Luiz de Milon, kori at openmailbox dot org
# Maintainer:  6c37 Team, https://github.com/6c37/crux-ports/issues
# Depends on:  git vte3

name=termite
version=git
release=1
source=(fix-transparency.patch)

build() {
	cd $PKGMK_SOURCE_DIR

	if cd $name; then
		git fetch -q; git reset --hard origin/master
	else
		git clone --recursive git://github.com/thestinger/termite.git $name
		cd $name
	fi   
         
	patch -Np1 < $SRC/fix-transparency.patch
	make 
	tic -x termite.terminfo -o terminfo

	install -Dm644 man/termite.1 $PKG/usr/share/man/man1/termite.1
	install -Dm644 man/termite.config.5 $PKG/usr/share/man/man5/termite.config.5
	install -Dm644 terminfo/x/xterm-termite $PKG/usr/share/terminfo/x/xterm-termite
	install -Dm755 termite $PKG/usr/bin/termite
}
